"use strict";(self.webpackChunkcict_document=self.webpackChunkcict_document||[]).push([[9211],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var i=r.createContext({}),u=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(i.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,s=e.mdxType,a=e.originalType,i=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(n),m=s,h=p["".concat(i,".").concat(m)]||p[m]||d[m]||a;return n?r.createElement(h,l(l({ref:t},c),{},{components:n})):r.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var a=n.length,l=new Array(a);l[0]=m;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[p]="string"==typeof e?e:s,l[1]=o;for(var u=2;u<a;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2347:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>u});var r=n(7462),s=(n(7294),n(3905));const a={id:"nfs_server",title:"Nfs Server",sidebar_label:"Nfs Server",sidebar_position:2},l=void 0,o={unversionedId:"deployments/nfs_server",id:"deployments/nfs_server",title:"Nfs Server",description:"This guide was generated by ChatGPT. All content in this guide was generated by ChatGPT and should not be considered as professional advice or recommendations. Use at your own risk.",source:"@site/docs/deployments/nfs_server.md",sourceDirName:"deployments",slug:"/deployments/nfs_server",permalink:"/cict-document-deploy/docs/deployments/nfs_server",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/deployments/nfs_server.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"nfs_server",title:"Nfs Server",sidebar_label:"Nfs Server",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Platform Installation",permalink:"/cict-document-deploy/docs/deployments/platform_installation"},next:{title:"Nfs Provisioner",permalink:"/cict-document-deploy/docs/deployments/nfs_provisioner"}},i={},u=[{value:"Step 1: Update system packages",id:"step-1-update-system-packages",level:4},{value:"Step 2: Install NFS server",id:"step-2-install-nfs-server",level:4},{value:"Step 1: Make shared NFS directory",id:"step-1-make-shared-nfs-directory",level:4},{value:"Step 2: Set directory permissions",id:"step-2-set-directory-permissions",level:4},{value:"Step 3: Set file permissions",id:"step-3-set-file-permissions",level:4},{value:"Step 4: Grant NFS access",id:"step-4-grant-nfs-access",level:4},{value:"Step 5: Exporting NFS directory",id:"step-5-exporting-nfs-directory",level:4},{value:"Step 6: Restart NFS server",id:"step-6-restart-nfs-server",level:4},{value:"Step 7: Grant Firewall access",id:"step-7-grant-firewall-access",level:4},{value:"Step 8: Enable Firewall",id:"step-8-enable-firewall",level:4},{value:"Step 9: Check Firewall status",id:"step-9-check-firewall-status",level:4},{value:"References",id:"references",level:3}],c={toc:u},p="wrapper";function d(e){let{components:t,...n}=e;return(0,s.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("admonition",{type:"warning"},(0,s.kt)("p",{parentName:"admonition"},"This guide was generated by ChatGPT. All content in this guide was generated by ChatGPT and should not be considered as professional advice or recommendations. Use at your own risk.")),(0,s.kt)("p",null,"Network File Share or NFS is a protocol utilized for sharing files and directories over a network of Linux clients including Ubuntu 22.04 systems. Basically, a shared directory is created and files are added to it so that the client can easily access them. Using NFS is also considered an ideal approach when it is required to exchange common data between different client systems."),(0,s.kt)("p",null,"This blog will demonstrate the procedure of installing and configuring the NFS server on Ubuntu 22.04. Let\u2019s get started."),(0,s.kt)("p",null,"InstalIing NFS server on Ubuntu 22.04\nFor the purpose of installing the NFS server on Ubuntu 22.04, follow the given instructions."),(0,s.kt)("h4",{id:"step-1-update-system-packages"},"Step 1: Update system packages"),(0,s.kt)("p",null,"First of all, hit \u201cCTRL+ALT+T\u201d and update the system packages by running provided command:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt update\n")),(0,s.kt)("p",null,"All packages are updated:"),(0,s.kt)("h4",{id:"step-2-install-nfs-server"},"Step 2: Install NFS server"),(0,s.kt)("p",null,"In the next step, run the below-given command in the Ubuntu 22.04 terminal for NFS server installation:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt install nfs-kernel-server\n")),(0,s.kt)("p",null,"The given output indicates that NFS server is successfully installed on Ubuntu 22.04 \u201clinuxuser\u201dsystem:"),(0,s.kt)("p",null,"Now, let\u2019s move toward the procedure to configure the installed NFS server."),(0,s.kt)("p",null,"Configuring NFS server on Ubuntu 22.04"),(0,s.kt)("p",null,"For the configuration of the NFS server on Ubuntu 22.04, follow the given instructions."),(0,s.kt)("h4",{id:"step-1-make-shared-nfs-directory"},"Step 1: Make shared NFS directory"),(0,s.kt)("p",null,"First of all, we will create a directory named \u201cnfs_share\u201d that is going to be shared by all client systems. To do so, write out the following command:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo mkdir -p /mnt/nfs_share\n")),(0,s.kt)("h4",{id:"step-2-set-directory-permissions"},"Step 2: Set directory permissions"),(0,s.kt)("p",null,"Next, set the permissions of the created \u201cnfs_share\u201d directory so that all client machines can easily access it:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo chown -R nobody:nogroup /mnt/nfs_share/\n")),(0,s.kt)("p",null,"Now, move to next step."),(0,s.kt)("h4",{id:"step-3-set-file-permissions"},"Step 3: Set file permissions"),(0,s.kt)("p",null,"Set the file permissions as required. In our case, we have allocated the read, write, and execute permissions to the \u201cnfs_share\u201d directory files:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo chmod 777 /mnt/nfs_share/\n")),(0,s.kt)("h4",{id:"step-4-grant-nfs-access"},"Step 4: Grant NFS access"),(0,s.kt)("p",null,"In this step, we will grant access to the client system for accessing the NFS server. To do so, open \u201c/etc/exports\u201d in the \u201cnano\u201d editor:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo nano /etc/exports\n")),(0,s.kt)("p",null,"Now, it is up to you whether you want to grant access to the entire subnet, single or multiple clients. For instance, we will permit an entire subnet \u201c10.0.2.15/24\u201d to access the NFS share:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"/mnt/nfs_share 10.0.2.15/24(rw,sync,no_subtree_check)\n")),(0,s.kt)("p",null,"After adding the required line, press \u201cCTRL+O\u201d to save the file and switch back to the Ubuntu 22.04 terminal."),(0,s.kt)("h4",{id:"step-5-exporting-nfs-directory"},"Step 5: Exporting NFS directory"),(0,s.kt)("p",null,"Utilize the provided command for exporting the NFS shared directory:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo exportfs -a\n")),(0,s.kt)("h4",{id:"step-6-restart-nfs-server"},"Step 6: Restart NFS server"),(0,s.kt)("p",null,"Write out the provided command for restarting the NFS server on your Ubuntu 22.04 system:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo systemctl restart nfs-kernel-server\n")),(0,s.kt)("h4",{id:"step-7-grant-firewall-access"},"Step 7: Grant Firewall access"),(0,s.kt)("p",null,"Next, grant the Firewall access to the client system with the following \u201cufw\u201d command:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo ufw allow from 10.0.2.15/24 to any port nfs\n")),(0,s.kt)("h4",{id:"step-8-enable-firewall"},"Step 8: Enable Firewall"),(0,s.kt)("p",null,"Enable Firewall with \u201cufw\u201d command and \u201cenable\u201d option:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo ufw enable\n")),(0,s.kt)("h4",{id:"step-9-check-firewall-status"},"Step 9: Check Firewall status"),(0,s.kt)("p",null,"Next, verify that the Firewall is configured to allow the access through the port \u201c2049\u201d:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo ufw status\n")),(0,s.kt)("p",null,"We will now head towards the NFS client on \u201cubuntuuser\u201d system to test the NFS sharing point."),(0,s.kt)("p",null,"Installing NFS client on Ubuntu 22.04"),(0,s.kt)("p",null,"In order to perform NFS client installation on Ubuntu 22.04, hit \u201cCTRL+ALT+T\u201d and run the following command:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt install nfs-common\n")),(0,s.kt)("p",null,"Testing NFS share on Ubuntu 22.04"),(0,s.kt)("p",null,"Now, we will test the access co-ordination between NFS client \u201cubuntuuser\u201d and \u201clinuxuser\u201d NFS server. To do so, create a mount point on the NFS client system:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo mkdir -p /mnt/nfs_clientshare\n")),(0,s.kt)("p",null,"Then, mount the NSF share on the other Client system:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo mount 10.0.2.15:/mnt/nfs_share /mnt/nfs_clientshare\n")),(0,s.kt)("p",null,"For the testing NFS share on the client system, firstly, we will create some files in the \u201cnfs_share\u201d directory on the \u201clinuxuser\u201d NFS server:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ cd /mnt/nfs_share/\n\n$ touch sample1.text sample2.text\n")),(0,s.kt)("p",null,"Then, switch to the client system and view the list of files present in the \u201cnfs_clientshare\u201d directory:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ ls -l /mnt/nfs_clientshare/\n")),(0,s.kt)("p",null,"The given output indicates that files are successfully accessed on \u201cubuntuuser\u201d client via NFS server:"),(0,s.kt)("p",null,"Uninstalling NFS server on Ubuntu 22.04\nFor the uninstallation of NFS server, run the following command:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt remove nfs-kernel-server\n")),(0,s.kt)("p",null,"Uninstalling NFS client on Ubuntu 22.04\nFor the uninstallation of NFS client, write out the following command in Ubuntu 22.04 terminal:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"$ sudo apt remove nfs-common\n")),(0,s.kt)("p",null,"We have compiled the method to install, configure, and test NFS server on Ubuntu 22.04."),(0,s.kt)("p",null,"Conclusion\nFor the purpose of installing NFS server on Ubuntu 22.04, firstly, update system packages and run the \u201c$ sudo apt install nfs-kernel-server\u201d command. Then create a shared NFS directory, set the file and directory permissions, and export it. Next, install the NFS client on another system with \u201c$ sudo apt install nfs-common\u201d command, create a mount point, and test the access of the shared NFS directory. This blog demonstrated the method of installing, configuring, and testing the NFS server on Ubuntu 22.04."),(0,s.kt)("h3",{id:"references"},"References"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://linuxhint.com/install-and-configure-nfs-server-ubuntu-22-04/"},"How to Install and Configure an NFS Server on Ubuntu 22.04"))))}d.isMDXComponent=!0}}]);